<?php
include("SaeMysql.php");

//receive aes begin
require_once('phpaes-master/src/Aes.php');
use PhpAes\Aes;
$key = "abcdefgh01234567";
$aes = new Aes($key, 'ECB');

//header("Access-Control-Allow-Origin:*"); 
//header('Access-Control-Allow-Headers:x-requested-with,content-type'); 

$rws_post = $GLOBALS['HTTP_RAW_POST_DATA'];
//$aes_post = $aes->decrypt(rws_post);				//aes_decrypt
$rws_post = "c2b34f186810c285d90d2f6e6bee3bba57651b5d5aef950d5bbff9a10292c00256e3aaa93544ffe4463a9d0c72abbc61dd4fb4cc9a987721ebd974172e06dfb4a54adb35cb518233641f62f1318c18e8bf9613234c29cdf32d069a662fe645cc4810914aede57c16251908a00214a46142321c6d145688936bfc1cc598db2e5f1beb51fbbd90002908671aa9a648497d3ddd9f52db961b174f9e66b9ee0a05f558145943e31738fc925767ee6c1bc22cc6e48f15741fb959eae8b0176d6eb0320518135b6b44e00107e38408e984f18fc83c8e760940c094042579a15dc3c943b90cabfdf857023788417c2ffec9dd28e24926f15148bb8b01ed2bd861e7df215ee5c16fd625f7e61dfca506b5500ecbac2a5f07ba388bd6b1fdcf0885e25d5634f5ae4b402c672bba7faf5994cd9e974810914aede57c16251908a00214a46167ea95b065156696b54651c04d5a5c3df99b7a06066bbe90ec5884132d95e6292dbc83473aa5c956e3975ead5657d3ea836424f5beb07e48b9d2aab83be21f03c6e48f15741fb959eae8b0176d6eb032cd9bea7c859e73f1a64057d2f865e087c24760dad3be0971410cf2413ddc6308b90cabfdf857023788417c2ffec9dd280e72f80e839add300d9bad69c4a11afe96b97ad77c360402ac4ff20c81b639f2b1657a7c896edd51d2401a2a43301b223a4f77f280db191c81fc99bf6109280e4810914aede57c16251908a00214a4618c928c650db6d02c443ba09b7e684062f2fea17c608887dca1a737fce53d11413ddd9f52db961b174f9e66b9ee0a05f5cadbf16ce04e7d8dac9c4eb2b006696ec6e48f15741fb959eae8b0176d6eb0327f1ceefee64bb3dbc6d644eea6c6d488bcc05ed80555f60667e52c7395e88d57b90cabfdf857023788417c2ffec9dd2873f6d4cd54cef5dc069f35a3e24a15aedd4fb4cc9a987721ebd974172e06dfb4e6cc563a1586fe6a235750266b943f428e67eddf5744677c488f87842f6e5e954810914aede57c16251908a00214a461dfe9164f5174985bb08f5e171121474d11254996d28912687481e02aee6824ef3ddd9f52db961b174f9e66b9ee0a05f512ba246dc39aa74be850580ebeb7aa6bc6e48f15741fb959eae8b0176d6eb0329015e53481973a48f20c4a97a0d532f5223b19e9eec52aa2795ba219020e36d8b90cabfdf857023788417c2ffec9dd283e1fdd13f41ed602db050be7a02eb14482545e7f5cad8a0e49cbe4bb7ee13c923768113a097c87db8c96d33d026a60bae709d23818b85291f2d5ecf772556a204810914aede57c16251908a00214a461e22363e9291744f932922872ae69264d7ba4b8e5ed5a257d8fe7d6797208aefb3ddd9f52db961b174f9e66b9ee0a05f5aa4574ee94e6d32d8f0f1835530df1e3c6e48f15741fb959eae8b0176d6eb0325c4ecdc41f3f27afb9529c67a571adbff1b44dba0fa7b7f1bb33da1e18d0f73ab90cabfdf857023788417c2ffec9dd28032af1b15b01785dd30c8e9c46deb6c1809ce90156c4037624164ab020306c3fbf4c121082d808b7a85cf11296d8abb11c35fdfe07b0dca6106ae2a32c8d6dea4810914aede57c16251908a00214a4617c38cd5bc5681aedacb4e7fc6dbaf677f7650b465f24adc358987d3f487c96553ddd9f52db961b174f9e66b9ee0a05f5d2319ea944fd45140d05f7addfb7aae2c6e48f15741fb959eae8b0176d6eb0323e0b5d8a659710a19c8249ffe3cde4a9ea5e6beadec98fc29f27b3a6cdca05bbb90cabfdf857023788417c2ffec9dd282fce4697b15270356d4155eecb982e361c9b6fc6dbc751a0b2e4a2bc4bc9e8d5d352524ecbffa3806cd0529693a3d73a9b5f771b47e1d877046ce8d31bc021544810914aede57c16251908a00214a461b9c5113ed728a76c994ba9a45d7bfc99fec9ccaa257b4480401b54e3a30bd86e3ddd9f52db961b174f9e66b9ee0a05f5d3a369072dbcb31fcef99a4c8248ae26c6e48f15741fb959eae8b0176d6eb032e470c20c54805efb62e65c6164bb68a68acc6f5229ceae7ca16d3d0437f796fcb90cabfdf857023788417c2ffec9dd28511e76ea5289b814592b8d888a6cccf1cc50a2b81b8fc6424db7596f250b6ec61d9736ca72e85b813fbc59c059e4054b89e02bf677a7cd275a9c26f70136f7304810914aede57c16251908a00214a461341eb136336b10248f45bee4b338646743c09fdf9eb71adfb3a41dacf9a541ef3ddd9f52db961b174f9e66b9ee0a05f5b3b5411842a2f8359584e810bbdd0410c6e48f15741fb959eae8b0176d6eb032c368d0b8888eb55d78ff10b1b9a979b1d2f3fd2db2e2de7b6a9b5bc96b7b74bfb90cabfdf857023788417c2ffec9dd28fd6c3c2331e85e0281d899cbfe91a4d990c93da9953cfe4a91df023e88a2e122b1657a7c896edd51d2401a2a43301b227a662d44ce31fb330b74b0770a1055d74810914aede57c16251908a00214a4612141d6c230c010328508d781ccb20f4e87a04f4c578d0737d6dd1b09323c162d3ddd9f52db961b174f9e66b9ee0a05f548b9132456630cd57afad2378557a50bc6e48f15741fb959eae8b0176d6eb0327aad612e23e79a41f0e48277a622cb830d483a6e5dc1273cd4389ba792fffa40b90cabfdf857023788417c2ffec9dd28d66c75d211daf6f02d6396bd4873a40729724e1e54aef15eaa0e285ed32d2331ac2a5f07ba388bd6b1fdcf0885e25d56a0c1caf23b6a41786e73be87fddd81994810914aede57c16251908a00214a461a527c0ce526678010c7a3f47a9e5de16f2f8d176f1ccdb45b4a2cdfc9f2308083ddd9f52db961b174f9e66b9ee0a05f501b2e5487dabd2ffaab071d27b1bfebfc6e48f15741fb959eae8b0176d6eb032fb18c0bc88eab3880d8bc49e2e1dd95aa40ca0554251f1d28c435ff3515f6b78b90cabfdf857023788417c2ffec9dd2804ed46da5e6394b91f76f7e92ac1ccb1d65edd9689f06bb7421c4c8251a9a9e1ac2a5f07ba388bd6b1fdcf0885e25d5690217ae7ca9ac6c92e8c45355b529c074810914aede57c16251908a00214a461abe893d9bf78d4a6d933d06071fa3c881bdd8da6ab6718bff2486f0016e01b273ddd9f52db961b174f9e66b9ee0a05f50c3034cad704ddd4ab5055e325715af6cc025cce48ff51567d35569330e8de168d34374cf13d40980663ce3ab885571a04bc48bbbad6362b7d3515a411c0c5afb90cabfdf857023788417c2ffec9dd28a571a9b4712960d43febb1efdc4c1ba182545e7f5cad8a0e49cbe4bb7ee13c92a54adb35cb518233641f62f1318c18e8fafac5e8d03cb264aeea57b3926c0fb34810914aede57c16251908a00214a461d40edcdae0ad32d66a55e001390f66a0ab9a5613c4ba5c14d9dc494636f77d793ddd9f52db961b174f9e66b9ee0a05f50d035a0743ebb1c8fbb558380022406bc6e48f15741fb959eae8b0176d6eb0326541396ee95939428e1051bd79b2fa6e5d4cda4f84f85a925a41b0cf18cea5d7b90cabfdf857023788417c2ffec9dd28a1d143bd93976834d8884b33c7b1bf302c69b55428381f0b77abb3b1fc2c36a7d352524ecbffa3806cd0529693a3d73a6b91fb355eaa3c6b90af24c6631d0a184810914aede57c16251908a00214a461ea69f385508f2e422905b890be297e948ab4b6caa5f64ab4ac5baa6da184659a3ddd9f52db961b174f9e66b9ee0a05f5378c8110836624c384093119005a7550cc025cce48ff51567d35569330e8de16e64de599fb6bd213587b541f35602852fe53ca79a9015e388e12e19d78832efcb90cabfdf857023788417c2ffec9dd2887414926d3bbd7b8b9e1d529b8f72d082b41acab8f4a2e0822d1bd8bf81963d9bf4c121082d808b7a85cf11296d8abb198e9c431b5b45b014cae292769535206fc3f1935e2e985b6f7f74f4651f056b80fdd74efeb989e9bf29b427673b9ffaa47a44e84a3ab9ad5dbea33e5461246753ddd9f52db961b174f9e66b9ee0a05f57657f54b0c2cf195dbf6bb9dbca85658c6e48f15741fb959eae8b0176d6eb032f6cd9df50324530f7c7480eed8fc927a446dd2c9444a8b0877ea4d98b7d28c0fb90cabfdf857023788417c2ffec9dd28a0ffe1d7fbc584a59e20d4cd534a36e599d51bde2c6b78ea331e046832667f84ac2a5f07ba388bd6b1fdcf0885e25d56cc197b5c2f58de71f281a26c4af4ca264810914aede57c16251908a00214a46178304dcc9f41e2397a27f04d432a6b4ea1f813c719e8d36b1c2939e32bc6c08e3ddd9f52db961b174f9e66b9ee0a05f5b169f2607327ebd9e747f1f7309e9e2acc025cce48ff51567d35569330e8de16a98639162904d93003a8b7bf732f0bda3dd800bd6bb86f1dd1b28d2bf842b5b2b90cabfdf857023788417c2ffec9dd2844551298b0882729f117e338b291cfe8184f7de3e0c10acc8614c593959a1d0bbf4c121082d808b7a85cf11296d8abb117715d25bae86fb42c77d6b943b016084810914aede57c16251908a00214a461fdfa8c357a83104230cca0674c88dea72008382b61147ac950c5adf0a548e69c3ddd9f52db961b174f9e66b9ee0a05f508499cabdc017facfa7345dae72bd459c6e48f15741fb959eae8b0176d6eb03226320a247c32b57015a36aed84256aa6d5db9a5cc9b82916ab6a13b46348bf8fb90cabfdf857023788417c2ffec9dd28cd49c86a25344c7f7dd5e1bb20e7c826fe49509aeeea6f11e80a564a4d9369bf1d9736ca72e85b813fbc59c059e4054ba0f7759f67270719fefe52f2534346144810914aede57c16251908a00214a461bc265ac4fe3705b5539fa73430c4fa3f2de75764399f50fac913631736853fe53ddd9f52db961b174f9e66b9ee0a05f514473bf1bbf2e62782769a074442fc08cc025cce48ff51567d35569330e8de168faecb92bbf6b97076fee26d3aa4f4ac0062f8672c49f666ca384a08e74b2686b90cabfdf857023788417c2ffec9dd28234aedbde6e095dd139aaf97ef37d354ff53270d1d30d19dc05c8ce05b31162aac2a5f07ba388bd6b1fdcf0885e25d5611c7cda9d5e7463c3303aba8ecb254454810914aede57c16251908a00214a4613228dc697f020482f23a01928bc0b34d8e0116f93d13ffc9c9ac78ef78c537733ddd9f52db961b174f9e66b9ee0a05f587acb803300908851f90ee8d0ce57a60c6e48f15741fb959eae8b0176d6eb032c91d565256e9b6f52f21c250e54d877f80fa82a68750348cb065d58a1391a861fa30cc61cd77c79194be273982e540361be2e1bbf644969e7071fda7ac29554ff1f6a378d733765dcdbfcf8eefd667bce6cc563a1586fe6a235750266b943f422adc8528fa54b13d19c987aa0789abc54810914aede57c16251908a00214a461b2877bcd1513e541fd905794f9555ba189363e64f001c080c17fa9bf093812cf0723f078f9c3d3d45d4227d27f05feac";

$aes_post = $aes->decrypt(hex2bin(rws_post));
$mypost = json_decode($aes_post,ture);
//receive aes end

/*
$rws_post = $GLOBALS['HTTP_RAW_POST_DATA'];
$mypost = json_decode($rws_post,ture);
*/
$mysql=new SaeMysql();
//[{"num":"2583","vue":"78"},{"num":"2583","vue":"71"},...]
for($i=0;$i<150;$i++){
	$num = (string)$mypost[$i]['num'];
	$vue = (string)$mypost[$i]['vue'];

	//receive http json end
	if(!empty($num) && !empty($vue))
	{
		$mysql->runsql("INSERT INTO `text` (`num`,`vue`) VALUES ('".$num."','".$vue."') ");
	}
}


/*
if(!empty($_POST["num"]) && !empty($_POST["vue"]))
{
	$mysql=new SaeMysql();
	if($mysql->runsql("INSERT INTO `text` (`num`,`vue`) VALUES ('".$_POST["num"]."','".$_POST["vue"]."') "))
				//die($mysql->errmsg());
			
	$json["error"]=0;
	echo json_encode($json);	
}
*/

?>